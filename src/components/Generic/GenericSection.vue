<template>
    <!-- Main -->
    <main id="main" class="wrapper" role="main">
        <div class="inner">
            <h1 class="major">My Experience</h1>

            <!-- Worldpanel by Kantar -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">Worldpanel by Kantar</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2024-04">April 2024</time> - <span itemprop="endDate">Present</span></p>
                </header>
                <hr />
                <p itemprop="jobTitle">Software Developer</p>
                <ul>
                    <li itemprop="description">Developing internal systems using FastAPI, Electron.js, Vue.js, Vuetify, and Python GUIs.</li>
                    <li itemprop="description">Created an AI and OCR-powered item classification app, significantly accelerating internal workflows.</li>
                    <li itemprop="description">Adhering to clean code practices for maintainable, scalable solutions within a Microsoft-restricted environment.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">FastAPI, Python, Electron.js, Vue.js, Vuetify, MSSQL</span></p>
                <hr />
            </article>

            <!-- MAVRK Studio -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">MAVRK Studio</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2023-06">June 2023</time> - <span itemprop="endDate">Present</span></p>
                </header>
                <hr />
                <p itemprop="jobTitle">Fullstack Developer</p>
                <ul>
                    <li itemprop="description">Customized Shopify themes using PHP, Liquid, SASS, and JS.</li>
                    <li itemprop="description">Collaborated with designers and marketing to translate concepts into technical implementations.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">PHP, Liquid, Shopify, SASS, JavaScript</span></p>
                <hr />
            </article>

            <!-- C2 Games -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">C2 Games</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2023-06">June 2023</time> - <time itemprop="endDate" datetime="2024-05">May 2024</time></p>
                </header>
                <hr />
                <p itemprop="jobTitle">Game Developer – Casino Game Project</p>
                <ul>
                    <li itemprop="description">Developed a custom casino game using Godot Engine.</li>
                    <li itemprop="description">Built a fully integrated backend with Laravel REST API for data management and authentication.</li>
                    <li itemprop="description">Handled UI design and core gameplay logic based on mathematical modeling.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">Godot, Laravel, PHP, REST API, PostgreSQL</span></p>
                <hr />
            </article>

            <!-- Youtouch -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">Youtouch</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2022-07">July 2022</time> - <time itemprop="endDate" datetime="2023-01">January 2023</time></p>
                </header>
                <hr />
                <p itemprop="jobTitle">Fullstack Developer</p>
                <ul>
                    <li itemprop="description">Designed and implemented a scalable REST API in Laravel, supporting 1,000+ concurrent users.</li>
                    <li itemprop="description">Built a Vue.js frontend with a polished UI and seamless ReCaptcha-secured user experience.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">Laravel, Vue.js, PHP, PostgreSQL, ReCaptcha</span></p>
                <hr />
            </article>

            <!-- Archipielago Circular -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">Archipiélago Circular</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2022-08">August 2022</time> - <time itemprop="endDate" datetime="2022-10">October 2022</time></p>
                </header>
                <hr />
                <p itemprop="jobTitle">Lead Developer – Recycling Platform</p>
                <ul>
                    <li itemprop="description">Developed a Vue.js front-end integrated with a WordPress headless CMS for environmental education and recycling promotion.</li>
                    <li itemprop="description">Implemented a custom comment system with ReCaptcha and full WordPress backend integration.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">Vue.js, WordPress (headless), ReCaptcha</span></p>
                <hr />
            </article>

            <!-- COSOF -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">COSOF</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2021-06">June 2021</time> - <time itemprop="endDate" datetime="2022-05">May 2022</time></p>
                </header>
                <hr />
                <p itemprop="jobTitle">Fullstack Developer – Ministry of Health Projects</p>
                <ul>
                    <li itemprop="description">Worked on national-level health systems serving 20,000+ users daily using a custom PHP framework.</li>
                    <li itemprop="description">Reduced report load times significantly through backend optimization.</li>
                    <li itemprop="description">Improved user experience by minimizing full-page reloads and enhancing frontend responsiveness.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">Custom PHP Framework, JavaScript, MySQL</span></p>
                <hr />
            </article>

            <!-- EvaluaIsapres -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">EvaluaIsapres</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2021-05">May 2021</time> - <time itemprop="endDate" datetime="2021-08">August 2021</time></p>
                </header>
                <hr />
                <p itemprop="jobTitle">Fullstack Developer</p>
                <ul>
                    <li itemprop="description">Developed both frontend and backend for EvaluaIsapres.cl with UI animations and interactive forms.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">PHP, MySQL, JavaScript, HTML/CSS</span></p>
                <hr />
            </article>

            <!-- Clown.lol -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">Clown.lol</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2021-06">June 2021</time> - <time itemprop="endDate" datetime="2021-08">August 2021</time></p>
                </header>
                <hr />
                <p itemprop="jobTitle">React Developer – Blockchain Casino Game</p>
                <ul>
                    <li itemprop="description">Built a React-based betting game integrated with Binance Smart Chain using programmable NFTs.</li>
                    <li itemprop="description">Tested with Truffle Suite and ensured full contract interaction.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">React.js, Web3, Solidity, Truffle Suite</span></p>
                <hr />
            </article>

            <!-- Twin (Multiple Projects) -->
            <article itemscope itemtype="https://schema.org/WorkExperience">
                <header>
                    <h2 itemprop="employer" itemscope itemtype="https://schema.org/Organization">
                        <span itemprop="name">Twin</span>
                    </h2>
                    <p><time itemprop="startDate" datetime="2018-10">October 2018</time> - <time itemprop="endDate" datetime="2021-03">March 2021</time></p>
                </header>
                <hr />
                <p itemprop="jobTitle">Fullstack Developer – IoT and Web Systems</p>
                <ul>
                    <li itemprop="description">Developed food court management systems using Raspberry Pi, Arduino, PHP, and JS.</li>
                    <li itemprop="description">Built Twin App for stock and invoice management in accounting.</li>
                    <li itemprop="description">Developed internal video conferencing tool using Jitsi and React during the pandemic.</li>
                </ul>
                <p><strong>Technological Stack:</strong> <span itemprop="skills">PHP, CodeIgniter, React.js, HTML/CSS, MySQL, Jitsi, Node.js</span></p>
                <hr />
            </article>
        </div>
    </main>
</template>


<script>
export default {
    name: 'GenericSection',
    mounted() {
        // Add structured data for professional experience
        this.addExperienceStructuredData();
        
        // Update document meta for this page
        this.updatePageMeta();
    },
    beforeUnmount() {
        // Clean up structured data
        this.removeStructuredData();
    },
    methods: {
        addExperienceStructuredData() {
            const workExperience = [
                {
                    "@type": "WorkExperience",
                    "identifier": {
                        "@type": "PropertyValue",
                        "name": "Position",
                        "value": "Software Developer"
                    },
                    "skills": "FastAPI, Python, Electron.js, Vue.js, Vuetify, MSSQL, AI, OCR",
                    "jobTitle": "Software Developer",
                    "employer": {
                        "@type": "Organization",
                        "name": "Worldpanel by Kantar"
                    },
                    "startDate": "2024-04",
                    "description": "Developing internal systems using FastAPI, Electron.js, Vue.js, Vuetify, and Python GUIs. Created an AI and OCR-powered item classification app, significantly accelerating internal workflows."
                },
                {
                    "@type": "WorkExperience",
                    "identifier": {
                        "@type": "PropertyValue",
                        "name": "Position",
                        "value": "Fullstack Developer"
                    },
                    "skills": "PHP, Liquid, Shopify, SASS, JavaScript",
                    "jobTitle": "Fullstack Developer",
                    "employer": {
                        "@type": "Organization",
                        "name": "MAVRK Studio"
                    },
                    "startDate": "2023-06",
                    "description": "Customized Shopify themes using PHP, Liquid, SASS, and JS. Collaborated with designers and marketing to translate concepts into technical implementations."
                },
                {
                    "@type": "WorkExperience",
                    "identifier": {
                        "@type": "PropertyValue",
                        "name": "Position",
                        "value": "Game Developer"
                    },
                    "skills": "Godot, Laravel, PHP, REST API, PostgreSQL",
                    "jobTitle": "Game Developer",
                    "employer": {
                        "@type": "Organization",
                        "name": "C2 Games"
                    },
                    "startDate": "2023-06",
                    "endDate": "2024-05",
                    "description": "Developed a custom casino game using Godot Engine. Built a fully integrated backend with Laravel REST API for data management and authentication."
                },
                {
                    "@type": "WorkExperience",
                    "identifier": {
                        "@type": "PropertyValue",
                        "name": "Position",
                        "value": "Fullstack Developer"
                    },
                    "skills": "Laravel, Vue.js, PHP, PostgreSQL, ReCaptcha",
                    "jobTitle": "Fullstack Developer",
                    "employer": {
                        "@type": "Organization",
                        "name": "Youtouch"
                    },
                    "startDate": "2022-07",
                    "endDate": "2023-01",
                    "description": "Designed and implemented a scalable REST API in Laravel, supporting 1,000+ concurrent users. Built a Vue.js frontend with a polished UI and seamless ReCaptcha-secured user experience."
                }
            ];

            const personSchema = {
                "@context": "https://schema.org",
                "@type": "Person",
                "name": "Joaquín Ayala",
                "jobTitle": "Software Developer",
                "hasOccupation": workExperience,
                "url": "https://jrayala-livecode.github.io/experience",
                "workLocation": {
                    "@type": "Place",
                    "name": "Remote/Global"
                },
                "knowsAbout": [
                    "Software Development",
                    "Web Development",
                    "Game Development",
                    "Full Stack Development",
                    "Frontend Development",
                    "Backend Development",
                    "PHP",
                    "JavaScript",
                    "Vue.js",
                    "React.js",
                    "Laravel",
                    "Python",
                    "FastAPI",
                    "Godot Engine",
                    "Shopify Development",
                    "REST API",
                    "Database Design",
                    "AI Integration",
                    "OCR Technology"
                ]
            };

            const script = document.createElement('script');
            script.type = 'application/ld+json';
            script.id = 'experience-structured-data';
            script.textContent = JSON.stringify(personSchema);
            document.head.appendChild(script);
        },
        
        updatePageMeta() {
            // Update page title
            document.title = 'Professional Experience - Joaquín Ayala | Software Developer Portfolio';
            
            // Update or add meta description
            this.updateMetaTag('description', 'Explore Joaquín Ayala\'s professional experience as a Software Developer. Over 6+ years of experience in web development, game development, and full-stack solutions using PHP, JavaScript, Vue.js, React.js, Laravel, Python, and modern technologies.');
            
            // Update or add meta keywords
            this.updateMetaTag('keywords', 'software developer experience, web developer portfolio, PHP developer, JavaScript developer, Vue.js developer, React.js developer, Laravel developer, Python developer, full stack developer, game developer, Joaquín Ayala experience');
            
            // Update Open Graph tags
            this.updateMetaProperty('og:title', 'Professional Experience - Joaquín Ayala | Software Developer');
            this.updateMetaProperty('og:description', 'Explore my professional journey as a Software Developer with over 6+ years of experience in web development, game development, and full-stack solutions.');
            this.updateMetaProperty('og:url', 'https://jrayala-livecode.github.io/experience');
            this.updateMetaProperty('og:type', 'profile');
            
            // Update Twitter Card tags
            this.updateMetaTag('twitter:title', 'Professional Experience - Joaquín Ayala | Software Developer');
            this.updateMetaTag('twitter:description', 'Explore my professional journey as a Software Developer with over 6+ years of experience in web development, game development, and full-stack solutions.');
            
            // Add canonical link
            this.updateCanonicalLink('https://jrayala-livecode.github.io/experience');
        },
        
        updateMetaTag(name, content) {
            let meta = document.querySelector(`meta[name="${name}"]`);
            if (!meta) {
                meta = document.createElement('meta');
                meta.name = name;
                document.head.appendChild(meta);
            }
            meta.content = content;
        },
        
        updateMetaProperty(property, content) {
            let meta = document.querySelector(`meta[property="${property}"]`);
            if (!meta) {
                meta = document.createElement('meta');
                meta.setAttribute('property', property);
                document.head.appendChild(meta);
            }
            meta.content = content;
        },
        
        updateCanonicalLink(href) {
            let canonical = document.querySelector('link[rel="canonical"]');
            if (!canonical) {
                canonical = document.createElement('link');
                canonical.rel = 'canonical';
                document.head.appendChild(canonical);
            }
            canonical.href = href;
        },
        
        removeStructuredData() {
            const script = document.getElementById('experience-structured-data');
            if (script) {
                document.head.removeChild(script);
            }
        }
    }
}
</script>